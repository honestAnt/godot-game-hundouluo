[gd_scene load_steps=5 format=2]

[ext_resource path="res://src/scripts/player.gd" type="Script" id=1]
[ext_resource path="res://assets/sprites/player_sheet.png" type="Texture2D" id=2]

[node name="Player" type="CharacterBody2D"]
script = ExtResource(1)
collision_layer = 1
collision_mask = 1

[node name="Sprite" type="AnimatedSprite" parent="."]
position = Vector2(0, 0)
frames = SubResource(1)
animation = "idle"
playing = true
modulate = Color(1, 0, 0)  # 红色占位

[node name="DebugCollision" type="ColorRect" parent="."]
color = Color(0, 1, 0, 0.3)  # 半透明绿色
size = Vector2(32, 64)
position = Vector2(-16, -32)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 0)
shape = SubResource(2)

[node name="GunPosition" type="Position2D" parent="."]
position = Vector2(20, -10)

[sub_resource type="SpriteFrames" id=1]
animations = [ {
"frames": [ ExtResource(2) ],
"loop": true,
"name": "idle",
"speed": 5.0
}, {
"frames": [ ExtResource(2) ],
"loop": true,
"name": "run",
"speed": 10.0
}, {
"frames": [ ExtResource(2) ],
"loop": false, 
"name": "jump",
"speed": 3.0
}, {
"frames": [ ExtResource(2) ],
"loop": false,
"name": "damage_flash",
"speed": 15.0
}, {
"frames": [ ExtResource(2) ],
"loop": false,
"name": "die",
"speed": 8.0
} ]

[node name="InvincibleTimer" type="Timer" parent="."]
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = ""
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 1.0
root_node = NodePath("..")

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2(16, 32)